## supacomandos (minimizado)
# Reemplaza TU_ANON_KEY_AQUI por tu key (solo localmente)
$env:SUPABASE_KEY = "TU_ANON_KEY_AQUI"

---
# LISTAR
# REEMPLAZA AQUÍ tu ANON key (solo local):
$env:SUPABASE_KEY = "TU_ANON_KEY_AQUI"
$headers = @{ apikey = $env:SUPABASE_KEY; Authorization = "Bearer $env:SUPABASE_KEY" }
Invoke-RestMethod -Uri "https://kxvzhmhzbnheioijthil.supabase.co/rest/v1/barber_teste?select=*&order=created_at.desc&limit=50" -Method Get -Headers $headers | ConvertTo-Json -Depth 5

---
# CONTAR
# REEMPLAZA AQUÍ tu ANON key (solo local):
$env:SUPABASE_KEY = "TU_ANON_KEY_AQUI"
Invoke-RestMethod -Uri "https://kxvzhmhzbnheioijthil.supabase.co/rest/v1/barber_teste?select=count" -Method Get -Headers $headers

---
# INSERTAR
# REEMPLAZA AQUÍ tu ANON key (solo local):
$env:SUPABASE_KEY = "TU_ANON_KEY_AQUI"
$payload = @{ nombre = "PruebaNombre"; data = "2025-10-24" } | ConvertTo-Json
Invoke-RestMethod -Uri "https://kxvzhmhzbnheioijthil.supabase.co/rest/v1/barber_teste" -Method Post -Headers $headers -Body $payload -ContentType 'application/json'

---
# ACTUALIZAR (id=2)
# REEMPLAZA AQUÍ tu ANON key (solo local):
$env:SUPABASE_KEY = "TU_ANON_KEY_AQUI"
$body = @{ nombre = "NombreActualizado" } | ConvertTo-Json
Invoke-RestMethod -Uri "https://kxvzhmhzbnheioijthil.supabase.co/rest/v1/barber_teste?id=eq.2" -Method Patch -Headers $headers -Body $body -ContentType 'application/json'

---
# BORRAR (id=2)
# REEMPLAZA AQUÍ tu ANON key (solo local):
$env:SUPABASE_KEY = "TU_ANON_KEY_AQUI"
Invoke-RestMethod -Uri "https://kxvzhmhzbnheioijthil.supabase.co/rest/v1/barber_teste?id=eq.2" -Method Delete -Headers $headers

---
# CURL (alternativa)
# REEMPLAZA AQUÍ tu ANON key (solo local):
$env:SUPABASE_KEY = "TU_ANON_KEY_AQUI"
curl.exe -i -H "apikey: $env:SUPABASE_KEY" -H "Authorization: Bearer $env:SUPABASE_KEY" -H "Content-Type: application/json" -d "{\"nombre\":\"PruebaNombre\",\"data\":\"2025-10-24\"}" "https://kxvzhmhzbnheioijthil.supabase.co/rest/v1/barber_teste"

---
# LIMPIAR
Remove-Item Env:SUPABASE_KEY

# Seguridad: rota la key en Supabase si la publicaste.
